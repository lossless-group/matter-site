---
/**
 * SectionTransition__Vertical--Orb
 *
 * A vertical line divider with a glowing orb at the center.
 * Creates an elegant transition between major page sections.
 *
 * Features:
 * - Vertical gradient line above and below the orb
 * - Animated orb with subtle pulse
 * - Mode-aware styling (light/dark/vibrant)
 * - Configurable orb size, color, and animation speed
 *
 * Props:
 * - orbSize: Size of the orb (default: "80px")
 * - orbColor: Color of the orb (default: "#9C85DF" - lilac)
 * - rotationSpeed: Orb rotation speed (default: 0.4)
 * - height: Container height (default: "8rem")
 * - class: Additional CSS classes
 */
import ImageAbstractOrb from '@components/flare/ImageAbstract--Orb--Half.astro';

interface Props {
  orbSize?: string;
  orbColor?: string;
  rotationSpeed?: number;
  height?: string;
  class?: string;
}

const {
  orbSize = '80px',
  orbColor = '#9C85DF',
  rotationSpeed = 0.4,
  height = '8rem',
  class: className = '',
} = Astro.props;
---

<div
  class:list={['section-transition-orb', className]}
  style={`--transition-height: ${height};`}
>
  <div class="transition-line transition-line-top"></div>
  <div class="transition-orb">
    <ImageAbstractOrb size={orbSize} color={orbColor} rotationSpeed={rotationSpeed} />
  </div>
  <div class="transition-line transition-line-bottom"></div>
</div>

<style>
  .section-transition-orb {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem 0;
    position: relative;
  }

  .transition-line {
    width: 1px;
    height: var(--transition-height, 8rem);
  }

  .transition-orb {
    position: relative;
    z-index: 10;
    padding: 1rem;
    animation: orb-pulse 4s ease-in-out infinite;
  }

  @keyframes orb-pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  /* ==========================================================================
     LIGHT MODE
     ========================================================================== */
  :global([data-mode="light"]) .transition-line {
    background: linear-gradient(
      to bottom,
      transparent,
      rgba(108, 99, 255, 0.15),
      transparent
    );
  }

  :global([data-mode="light"]) .transition-line-top {
    background: linear-gradient(
      to bottom,
      transparent,
      rgba(108, 99, 255, 0.15)
    );
  }

  :global([data-mode="light"]) .transition-line-bottom {
    background: linear-gradient(
      to bottom,
      rgba(108, 99, 255, 0.15),
      transparent
    );
  }

  :global([data-mode="light"]) .transition-orb {
    background: var(--color-alabaster);
  }

  /* ==========================================================================
     DARK MODE
     ========================================================================== */
  :global([data-mode="dark"]) .transition-line {
    background: linear-gradient(
      to bottom,
      transparent,
      rgba(108, 99, 255, 0.3),
      transparent
    );
  }

  :global([data-mode="dark"]) .transition-line-top {
    background: linear-gradient(
      to bottom,
      transparent,
      rgba(108, 99, 255, 0.3)
    );
  }

  :global([data-mode="dark"]) .transition-line-bottom {
    background: linear-gradient(
      to bottom,
      rgba(108, 99, 255, 0.3),
      transparent
    );
  }

  :global([data-mode="dark"]) .transition-orb {
    background: var(--color-void);
  }

  /* ==========================================================================
     VIBRANT MODE
     ========================================================================== */
  :global([data-mode="vibrant"]) .transition-line {
    background: linear-gradient(
      to bottom,
      transparent,
      rgba(108, 99, 255, 0.5),
      transparent
    );
    box-shadow: 0 0 10px rgba(108, 99, 255, 0.3);
  }

  :global([data-mode="vibrant"]) .transition-line-top {
    background: linear-gradient(
      to bottom,
      transparent,
      rgba(108, 99, 255, 0.5)
    );
    box-shadow: 0 0 10px rgba(108, 99, 255, 0.3);
  }

  :global([data-mode="vibrant"]) .transition-line-bottom {
    background: linear-gradient(
      to bottom,
      rgba(108, 99, 255, 0.5),
      transparent
    );
    box-shadow: 0 0 10px rgba(108, 99, 255, 0.3);
  }

  :global([data-mode="vibrant"]) .transition-orb {
    background: transparent;
  }
</style>
