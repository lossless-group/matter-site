---
/**
 * Team Page Variant 3: Side-by-Side Layout
 *
 * Features:
 * - Hero section with page title and description
 * - Leadership (Managing Partners) on the left
 * - Founding team in a grid on the right
 * - Same card styling as variant-1
 * - Supports dark/light/vibrant themes
 */
import BaseThemeLayout from '../../layouts/BaseThemeLayout.astro';
import TeamMemberCard from '../../components/team/TeamMemberCard.astro';

import teamData from '../../content/people/team.json';
import type { TeamMember } from '../../types/team';

const teamMembers = teamData as TeamMember[];

// Group by role
const managingPartners = teamMembers.filter((m) => {
  const classifiers = Array.isArray(m.classifiers) ? m.classifiers : [m.classifiers];
  return classifiers.some((c) => c?.toLowerCase().includes('managing partner'));
});

const foundingTeam = teamMembers.filter((m) => {
  const classifiers = Array.isArray(m.classifiers) ? m.classifiers : [m.classifiers];
  return (
    classifiers.some(
      (c) =>
        c?.toLowerCase().includes('founding partner') ||
        c?.toLowerCase().includes('founding principal') ||
        c?.toLowerCase().includes('founding team')
    ) && !classifiers.some((c) => c?.toLowerCase().includes('managing partner'))
  );
});
---

<BaseThemeLayout title="Our Team | Dark Matter" description="Meet the people behind Dark Matter Longevity Fund.">
  <main class="team-page">
    <!-- Hero Section -->
    <section class="hero-section min-h-[40vh] flex flex-col items-center justify-center px-6 md:px-12 lg:px-16 xl:px-24 py-20 relative">
      <div class="hero-gradient absolute inset-0"></div>
      <div class="relative z-10 text-center max-w-3xl mx-auto">
        <p class="eyebrow text-xs sm:text-sm font-medium tracking-[0.35em] uppercase mb-4">
          Dark Matter Longevity Fund
        </p>
        <h1 class="headline text-4xl sm:text-5xl md:text-6xl font-bold leading-tight mb-6">
          Our Team
        </h1>
        <p class="subtitle text-lg sm:text-xl max-w-2xl mx-auto">
          A team that speaks both lab and late-stage capital, combining scientific depth with investment discipline.
        </p>
      </div>
    </section>

    <!-- Side-by-Side Team Section -->
    <section class="team-section py-20 px-6 md:px-12 lg:px-16 xl:px-24">
      <div class="max-w-6xl mx-auto">
        <div class="team-layout flex flex-col lg:flex-row gap-12 lg:gap-16">

          <!-- Leadership Column (Left) -->
          <div class="leadership-column lg:w-1/3 flex-shrink-0 max-w-sm">
            <div class="sticky top-8">
              <div class="section-header mb-8">
                <span class="section-badge inline-block px-4 py-2 text-xs font-semibold tracking-[0.25em] uppercase rounded-full mb-4">
                  Leadership
                </span>
                <h2 class="section-title text-2xl sm:text-3xl font-bold">Managing Partners</h2>
              </div>

              <div class="leadership-cards space-y-6">
                {managingPartners.map((member) => (
                  <TeamMemberCard
                    name={member.name}
                    role={member.role}
                    bio={member.bio}
                    image={member.image}
                    socialLinks={member.socialLinks}
                  />
                ))}
              </div>
            </div>
          </div>

          <!-- Founding Team Column (Right) -->
          <div class="founding-column flex-1">
            <div class="section-header mb-8">
              <span class="section-badge-alt inline-block px-4 py-2 text-xs font-semibold tracking-[0.25em] uppercase rounded-full mb-4">
                Team
              </span>
              <h2 class="section-title text-2xl sm:text-3xl font-bold">Founding Partners</h2>
            </div>

            <div class="team-grid grid gap-6 sm:grid-cols-2">
              {foundingTeam.map((member) => (
                <TeamMemberCard
                  name={member.name}
                  role={member.role}
                  bio={member.bio}
                  image={member.image}
                  socialLinks={member.socialLinks}
                />
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</BaseThemeLayout>

<style>
  /* ==========================================================================
     DARK MODE (default)
     ========================================================================== */
  .team-page {
    background: var(--color-void);
  }

  .hero-gradient {
    background: radial-gradient(ellipse 80% 50% at 50% 30%, rgba(102, 67, 226, 0.15), transparent 70%);
  }

  .eyebrow {
    color: var(--color-lilac);
  }

  .headline {
    color: var(--color-alabaster);
  }

  .subtitle {
    color: var(--color-alabaster);
    opacity: 0.7;
  }

  .section-badge {
    color: var(--color-marjorelle-purple);
    border: 1px solid rgba(108, 99, 255, 0.3);
  }

  .section-badge-alt {
    color: #34d399;
    border: 1px solid rgba(52, 211, 153, 0.3);
  }

  .section-title {
    color: var(--color-alabaster);
  }

  /* ==========================================================================
     LIGHT MODE
     ========================================================================== */
  :global([data-mode="light"]) .team-page {
    background: var(--color-alabaster);
  }

  :global([data-mode="light"]) .hero-gradient {
    background: radial-gradient(ellipse 80% 50% at 50% 30%, rgba(156, 133, 223, 0.1), transparent 70%);
  }

  :global([data-mode="light"]) .eyebrow {
    color: var(--color-marjorelle-purple);
  }

  :global([data-mode="light"]) .headline,
  :global([data-mode="light"]) .section-title {
    color: var(--color-foreground);
  }

  :global([data-mode="light"]) .subtitle {
    color: var(--color-foreground);
    opacity: 0.6;
  }

  /* ==========================================================================
     VIBRANT MODE
     ========================================================================== */
  :global([data-mode="vibrant"]) .team-page {
    background: linear-gradient(180deg, var(--color-void) 0%, #1a0a35 50%, var(--color-void) 100%);
  }

  :global([data-mode="vibrant"]) .hero-gradient {
    background: radial-gradient(ellipse 80% 50% at 50% 30%, rgba(102, 67, 226, 0.3), transparent 70%);
  }

  :global([data-mode="vibrant"]) .eyebrow {
    color: var(--color-lilac);
    text-shadow: 0 0 20px rgba(156, 133, 223, 0.5);
  }

  :global([data-mode="vibrant"]) .headline {
    text-shadow: 0 0 40px rgba(255, 255, 255, 0.15);
  }
</style>
